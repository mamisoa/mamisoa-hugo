{{ define "main" }}

{{ $section := .Site.GetPage "section" .Section }}
<div class="container-fluid postContainer text-white">
    <div class="row justify-content-center">
        <div class="col-sm-7 postHeader">
            <aside class="tracked">
                {{/*
                CurrentSection allows us to use the section title instead of inferring from the folder.
                https://gohugo.io/variables/page/#section-variables-and-methods
                */}}
              {{with .CurrentSection.Title }}{{. | upper }}{{end}}
            </aside>
            {{ partial "social-share.html" . }}
            <h1 class="">
              {{- .Title -}}
            </h1>
            {{ with .Params.author }}
            <p class="tracked">
                By <strong>
                {{ if reflect.IsSlice . }}
                    {{ delimit . ", " | markdownify }}
                {{else}}
                    {{ . | markdownify }}
                {{ end }}
                </strong>
            </p>
            {{ end }}
            {{/* Hugo uses Go's date formatting is set by example. Here are two formats */}}
            <time class="tracked" {{ printf `datetime="%s"` (.Date.Format "2006-01-02T15:04:05Z07:00") | safeHTMLAttr }}>
            {{- .Date.Format "January 2, 2006" -}}
            </time>

            {{/*
                Show "reading time" and "word count" but only if one of the following are true:
                1) A global config `params` value is set `show_reading_time = true`
                2) A section front matter value is set `show_reading_time = true`
                3) A page front matter value is set `show_reading_time = true`
            */}}
            {{ if (or (eq (.Param "show_reading_time") true) (eq $section.Params.show_reading_time true) )}}
            <span class="f6 mv4 dib tracked"> - {{ .ReadingTime}} minutes read</span>
            <span class="f6 mv4 dib tracked"> - {{ .WordCount}} words</span>
            {{ end }}
            <div class="postContent mt-3">
                {{- .Content -}}
            </div>
        </div> <!-- end div col -->
    </div> <!-- end row -->
    <div class="row justify-content-center pb-3">
        <div class="col-sm-3 postTags">
            {{- partial "tags.html" . -}}
        </div>
        <div class="col-sm-4 postComments">
                {{ if .Site.DisqusShortname }}
                    {{ template "_internal/disqus.html" . }}
                {{ end }}
                {{ if .Site.Params.commentoEnable }}
                    {{- partial "commento.html" . -}}
                {{ end }}
        </div>
    </div> <!-- end row -->
    <!-- <div class="row svg-section">
        <svg width="100%" height="100" viewBox="0 0 100 100" preserveAspectRatio="none">
            <path d="M0 0 L50 90 L100 0 V100 H0" fill="#1565C0" />
        </svg>
    </div> -->
</div> <!-- end container -->
<div class="svg-section">
    <svg width="100%" height="100" viewBox="0 0 100 99" preserveAspectRatio="none">
        <path d="M0 0 L50 90 L100 0 V100 H0" fill="#1565C0" />
    </svg>
</div>
{{ end }}